<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
	<base data-th-href="${baseHref}">

    <title data-th-text="${appName}"></title>
	<link rel="stylesheet" type="text/css" data-th-href="${assetsUrl + '/css/bootstrap.min.css'}">

    <!-- Common style used by the Launcher Panel -->
    <link rel="stylesheet" type="text/css" data-th-href="${assetsUrl + '/admin/common/styles/_all.css'}">

	<!-- Append the Admin libraries -->
    <script type="text/javascript" data-th-src="${assetsUrl + '/admin/common/lib/_all.js'}"></script>

    <!-- App bar style -->
    <link rel="stylesheet" type="text/css" data-th-href="${assetsUrl + '/styles/toolstarter.css'}">

	<script type="text/javascript" data-th-src="${assetsUrl + '/js/jquery.min.js'}" defer></script>
	<script type="text/javascript" data-th-src="${assetsUrl + '/js/bootstrap.min.js'}" defer></script>

	<link rel="icon" type="image/png" data-th-href="${assetsUrl + '/img/harvest-icon.png'}">

	<style>
		body {
			overflow-y: scroll;
			font-size: 1.0rem; /* Reset font */
		}
	</style>
</head>
<body>

<!-- App bar -->
<!--
<div class="app-bar">
    <div class="app-button">
        <img class="app-icon" data-th-src="${assetsUrl + '/img/harvest-icon.png'}"/>
        <span class="app-title" data-th-text="${appName}"></span>
    </div>
</div>
-->
<nav class="navbar sticky-top navbar-expand-lg navbar-dark bg-dark">
  <a class="navbar-brand" href="#">
    <img data-th-src="${assetsUrl + '/img/harvest-icon.png'}" width="30" height="30" class="d-inline-block align-top" alt="">
    <span class="app-title" data-th-text="${appName}" data-th-remove="tag"></span>
  </a>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class="collapse navbar-collapse" id="navbarNav">
    <ul class="navbar-nav">
      <li class="nav-item active">
        <a class="nav-link" href="#">Generate <span class="sr-only">(current)</span></a>
      </li>
      <li class="nav-item">
        <a class="nav-link disabled" href="#">Time entities</a>
      </li>
      <li class="nav-item">
        <a class="nav-link disabled" href="#">Projects</a>
      </li>
      <li class="nav-item">
        <a class="nav-link disabled" href="#">Clients</a>
      </li>
      <li class="nav-item">
        <a class="nav-link disabled" href="#">Contacts</a>
      </li>
    </ul>
  </div>
</nav>

<main class="bg-light container-fluid">
	<div class="container">
		<div class="row">
			<article class="cols-12">
				<h1>
					<span data-th-text="${appName}" data-th-remove="tag"></span>
					<small>A tool for creating and sending reports to customers</small>
				</h1>
				<p>
					Random text, lorem ipsum doler sit amet.
				</p>
				<p>
					Available options:
				</p>
				<ul class="nav">
					<li class="nav-item">
						<a class="nav-link active" href="#">Select report date range</a>
					</li>
					<li class="nav-item">
						<a class="nav-link disabled" href="#">Create email templates</a>
					</li>
					<li class="nav-item">
						<a class="nav-link disabled" href="#">Report archive</a>
					</li>
				</ul>

				<hr />

				<h2>Weekly report generator</h2>
				<ul>
					<li><strong>"Rules"</strong>: Weeks start on Mondays, end on Sundays. We follow <a href="https://en.wikipedia.org/wiki/ISO_week_date">ISO week date</a>.</li>
					<li><strong>This week</strong>: <span data-th-text="${moment.weekNow.weekNumber}" data-th-remove="tag" /> (<a href="/">Go home</a>)</li>
					<li><strong>Last week</strong>: <span data-th-text="${moment.weekLast.weekNumber}" data-th-remove="tag" /> (<a href="#" data-th-href="${'?week=' + moment.weekLast.weekNumber + '&amp;from=' + moment.weekLast.weekBegin + '&amp;to=' + moment.weekLast.weekEnd}">generate report foundation</a>)</li>
					<li><strong>Last week</strong>: <span data-th-text="${moment.weekBeforeLast.weekNumber}" data-th-remove="tag" /> (<a href="#" data-th-href="${'?week=' + moment.weekBeforeLast.weekNumber + '&amp;from=' + moment.weekBeforeLast.weekBegin + '&amp;to=' + moment.weekBeforeLast.weekEnd}">generate report foundation</a>)</li>
				</ul>

				<hr />

				<h3 data-th-text="${report.heading1}">Report for week {#}</h3>
				<p>Here's all the billable hours entered by our staff for projects that we track. Make sure they look ok before sending the reports.</p>
				<h4>{Client}</h4>
				<h5>{Project}</h5>
				<p>Timeframe: Week {#} ({from} - {to})</p>
				<table class="table">
				  <thead>
				    <tr>
				      <th>Date</th>
				      <th>Task + Note</th>
				      <th>Staff</th>
				      <th>Hours</th>
				      <th>Cost</th>
				    </tr>
				  </thead>
				  <tbody>
				    <tr data-th-each="entry : ${time_entries}">
				      <th scope="row" data-th-text="${entry.spent_date}">{date}</th>
				      <td>
						  <small><strong data-th-text="${entry.client.name + ': '}" /></small>
						  <small data-th-text="${entry.project.name}" /><br />
						  <strong data-th-text="${entry.task.name}">{task}</strong> -
						  <span data-th-text="${entry.notes}" data-th-remove="tag">{note}</span>
					  </td>
				      <td data-th-text="${entry.user.name}">{staff}</td>
				      <td data-th-text="${entry.hours}">{hours}</td>
					  <td>
					      <strong data-th-text="${entry.billable_rate * entry.hours + ' NOK'}">{cost}</strong><br />
					      <em data-th-text="${'At ' + entry.billable_rate + ' an hour'}">{price}</em>
					  </td>
				    </tr>
				  </tbody>
				</table>
			</article>
		</div>
	</div>
</main>


<!-- Appends the Launcher Panel to the document body -->
<script data-th-inline="javascript">
    var CONFIG = {
        adminUrl: /*[[${adminUrl}]]*/ null,
		  appId: /*[[${appId}]]*/ null,
		  launcherUrl: /*[[${launcherUrl}]]*/ null
    };
</script>

<!-- Append the Admin UI -->
<script type="text/javascript" data-th-src="${assetsUrl + '/admin/common/js/_all.js'}"></script>

<!-- Append the launcher -->
<script type="text/javascript" data-th-src="${launcherPath}" async></script>

</body>
</html>
